<div class="reseau-page">
  <div class="reseau-container">
    <!-- En-t√™te -->
    <header class="reseau-header">
      <h1 class="reseau-title">Notre r√©seau</h1>
      <p class="reseau-subtitle">
        Un maillage territorial complet pour vous accompagner partout en France
      </p>
    </header>

    <!-- Section principale -->
    <section class="reseau-content">
      <!-- Introduction -->
      <div class="intro-section">
        <p class="intro-text">
          INTELLIGENCIA-GENEA<span class="copy">¬Æ</span> dispose d'un r√©seau √©tendu sur l'ensemble du territoire
          fran√ßais,
          vous garantissant un service de proximit√© et une connaissance approfondie des sp√©cificit√©s locales.
          Nos bureaux et correspondants sont strat√©giquement implant√©s pour r√©pondre efficacement √† vos besoins.
        </p>
      </div>

      <!-- Statistiques du r√©seau -->
      <div class="network-stats">
        <div class="stat-item">
          <span class="stat-number">{{ locations.length }}</span>
          <span class="stat-label">Bureaux</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">{{ regionKeys.length }}</span>
          <span class="stat-label">R√©gions</span>
        </div>
      </div>

      <h2 class="section-title">
        {{ selectedRegion === 'all' ? 'Tous nos bureaux' : 'Bureaux en ' + regions[selectedRegion] }}
        <span class="location-count"> ({{ filteredLocations.length }})</span>
      </h2>

      <!-- Section carte et bureaux c√¥te √† c√¥te -->
      <div class="carte-bureaux-container">
        <div class="carte-container">
          <img src="assets/reseauPage/carte.webp" alt="Carte de France" class="carte-france" />
          <!-- Points sur la carte -->
          <div *ngFor="let location of filteredLocations; trackBy: trackByLocationId" class="map-point"
            [class.headquarters-point]="location.isHeadquarters"
            [class.selected-point]="selectedLocation?.id === location.id" [style.left.%]="location.mapPosition.x"
            [style.top.%]="location.mapPosition.y" [title]="location.city" (click)="handlePointClick(location)">
            <span class="point-tooltip">{{ location.city }}</span>
          </div>
        </div>

        <div class="locations-section">
          <div class="locations-grid">
            <div *ngFor="let location of filteredLocations; trackBy: trackByLocationId" [id]="'location-' + location.id"
              class="location-card" [class.headquarters]="location.isHeadquarters"
              [class.highlighted-card]="selectedLocation?.id === location.id">
              <div *ngIf="location.isHeadquarters" class="headquarters-badge">
                <span>Si√®ge Social</span>
              </div>

              <div *ngIf="location.hasSecretariat" class="secretariat-badge">
                <span>Secr√©tariat & envoi de vos courriers postaux</span>
              </div>
              <div class="location-header">
                <h4 class="city-name">
                  {{ getRegionIcon(location.region) }} {{ location.city }}
                </h4>
              </div>

              <div class="location-details">
                <div class="address-info">
                  <span class="address-icon">üìç</span>
                  <p class="address-text">{{ location.address }}</p>
                </div>

                <div class="contact-info">
                  <span class="phone-icon">üìû</span>
                  <a [href]="'tel:' + location.phone" class="phone-number"
                    [attr.aria-label]="'Appeler le ' + location.displayPhone">
                    {{ location.displayPhone }}
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<app-contact></app-contact>